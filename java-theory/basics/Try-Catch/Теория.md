### Что такое исключение в java ?

**Исключение (exception)** - это ненормальная ситуация (термин "исключение" здесь следует понимать как "исключительная
ситуация"), возникающая во время выполнения программного кода. Иными словами, исключение - это ошибка, возникающая во
время выполнения программы (в runtime).

Исключение - это способ системы Java (в частности, JVM - виртуальной машины Java) сообщить вашей программе, что в коде
произошла ошибка. К примеру, это может быть деление на ноль, попытка обратиться к массиву по несуществующему индексу,
очень распространенная ошибка нулевого указателя (NullPointerException) - когда вы обращаетесь к ссылочной переменной, у
которой значение равно null и так далее.

Обработка исключений (exception handling) - название объектно-ориентированной техники, которая пытается разрешить эти
ошибки.
Программа в Java может сгенерировать различные исключения, например:

* программа может пытаться прочитать файл из диска, но файл не существует;
* программа может попытаться записать файл на диск, но диск заполнен или не отформатирован;
* программа может попросить пользователя ввести данные, но пользователь ввел данные неверного типа;
* программа может попытаться осуществить деление на ноль;
* программа может попытаться обратиться к массиву по несуществующему индексу.

### Ловим исключение

Для того, чтобы поймать исключение используется конструкция try … catch. Перед блоком кода, который порождает исключение
пишем слово try и открываем фигурные скобки. После окончания блока закрываем скобки, пишем слово catch, в скобках
указываем переменную класса-исключения, открываем скобки и там пишем код, который будет вызываться ТОЛЬКО в случае если
метод/методы внутри try породили исключение. Смотрим код:

```java
package edu.javacourse.exception;

public class Starter {
    public static void main(String[] args) {
        // создаем наш класс для генерации исключений
        Generator generator = new Generator();

        // Данный блок будет обрабатывать исключение
        // и оно там действительно возникнет - мы же передали null
        try {
            String answer = generator.helloMessage(null);
            System.out.println("Answer 1:" + answer);
        } catch (SimpleException ex) {
            // Здесь мы можем обработать объект-исключение,
            // получить некоторую информаицию
            System.out.println("Error code:" + ex.getErrorCode());
            System.out.println("Error message:" + ex.getMessage());
        }

        // Данный блок будет обрабатывать исключение
        // но его не будет - мы передали корректный параметр
        try {
            String answer = generator.helloMessage("Yoda");
            System.out.println("Answer 2:" + answer);
        } catch (SimpleException ex) {
            // Здесь мы можем обработать объект-исключение,
            // получить некоторую информаицию
            System.out.println("Error:" + ex.getMessage());
        }
    }
}
```

Код, который потенциально может выбросить исключение, помещается в блок try. Если в нем происходит исключение,
управление передается в блок catch для обработки ошибки. Если исключения не произошло, код в блоке catch пропускается.

### Блок finally

Блок finally выполняется всегда, после завершения работы блоков try и catch. Это гарантирует закрытие ресурсов и
выполнение необходимой логики в любом случае:

```java
package edu.javacourse.exception;

public class Starter {
    public static void main(String[] args) {
        // создаем наш класс для генерации исключений
        Generator generator = new Generator();

        // Данный блок будет обрабатывать исключение
        // и оно там действительно возникнет - мы же передали null
        try {
            String answer = generator.helloMessage(null);
            System.out.println("Answer 1:" + answer);
        } catch (SimpleException ex) {
            // Здесь мы можем обработать объект-исключение,
            // получить некоторую информаицию
            System.out.println("Error code:" + ex.getErrorCode());
            System.out.println("Error message:" + ex.getMessage());
        } finally {
            // Этот блок будет вызываться всегда, независимо от результата
            System.out.println("Этот блок вызываетя всегда");
        }

        // Данный блок будет обрабатывать исключение
        // но его не будет - мы передали корректный параметр
        try {
            String answer = generator.helloMessage("Yoda");
            System.out.println("Answer 2:" + answer);
        } catch (SimpleException ex) {
            // Здесь мы можем обработать объект-исключение,
            // получить некоторую информаицию
            System.out.println("Error:" + ex.getMessage());
        } finally {
            // Этот блок будет вызываться всегда, независиом от результата
            System.out.println("Этот блок вызываетя всегда");
        }
    }
}
```

**Для облегчения нашей жизни разработчики Java предложили нам конструкцию try-with-resources, которая автоматически
закрывает ресурсы, открытые в блоке try.**

```java
public String input() throws MyException {
    String s = null;
    try(BufferedReader reader = new BufferedReader(new InputStreamReader(System.in))){
        s = reader.readLine();
   } catch (IOException e) {
       System.out.println(e.getMessage());
   }
    if (s.equals("")){
        throw new MyException ("String can not be empty!");
    }
    return s;
}
```

### Множество исключений

ак вы наверно уже догадываетесь, метод может порождать не одно исключение, а много. Тем более, если у вас внутри блока
try … catch вызывается несколько методов, каждый из которых порождает свой вид исключений. Соответственно и «ловить»
приходится несколько исключений.

```java
try{
        ....
        }catch(Exception1 ex){
        // Обработка исключения класса Exception1
        }catch(
Exception2 ex){
        // Обработка исключения класса Exception2
        }catch(
Exception3 ex){
        // Обработка исключения класса Exception3
        }
```
